<NMSMPipelineDocument Version="1.4.0">
	<DesignOptimizationTool name="default">
		<!--Directory used for writing results.-->
		<results_directory>SynergyDOResultsV1</results_directory>
		<!--Directory for optimizer initial guess.-->
		<initial_guess_directory>SynergyVOResultsV2</initial_guess_directory>
		<!--Directory for files for the optimizer to track.-->
		<tracked_quantities_directory>SynergyVOResultsV2</tracked_quantities_directory>
		<!--Name of the input model file (.osim) to use.-->
		<input_model_file>KickingModel.osim</input_model_file>
		<!--Name of the osimx model file.-->
		<input_osimx_file>KickingModel.osimx</input_osimx_file>
		<!--Name of the optimal control solver settings file.-->
		<optimal_control_solver_settings_file>gpopsSettings.xml</optimal_control_solver_settings_file>
		<!--Name, excluding file type (.sto, .mot, etc), of the trial-->
		<trial_name>drive_kick1</trial_name>
		<load_surrogate_model>true</load_surrogate_model>
		<save_surrogate_model>false</save_surrogate_model>
		<final_time_range>0.26 0.36</final_time_range>
		<!--Space separated list of coordinates to be considered GPOPS2 states. Not including a coordinate prescribes it.-->
		<states_coordinate_list>hip_flexion_r knee_angle_r ankle_angle_r</states_coordinate_list>
		<!--*Optional* Default is 2.-->
		<joint_position_range_scale_factor>1.5</joint_position_range_scale_factor>
		<!--*Optional* Default is 1.5.-->
		<joint_velocity_range_scale_factor>1.25</joint_velocity_range_scale_factor>
		<!--*Optional* Default is 1.-->
		<joint_acceleration_range_scale_factor>1</joint_acceleration_range_scale_factor>
		<!--Set of synergy controls for GPOPS2.-->
		<RCNLSynergyController>
			<optimize_synergy_vectors>false</optimize_synergy_vectors>
			<synergy_vector_normalization_method>sum</synergy_vector_normalization_method>
			<synergy_vector_normalization_value>1</synergy_vector_normalization_value>
			<maximum_allowable_synergy_activation>2</maximum_allowable_synergy_activation>
			<maximum_allowable_synergy_vector_weight>2</maximum_allowable_synergy_vector_weight>
			<!--Space separated list containing the coordinates controlled by the synergy controller.-->
			<surrogate_model_coordinate_list>hip_flexion_r hip_adduction_r hip_rotation_r knee_angle_r ankle_angle_r subtalar_angle_r</surrogate_model_coordinate_list>
			<!--Directory to read the surrogate model from.-->
			<surrogate_model_data_directory>surrogateData</surrogate_model_data_directory>
		</RCNLSynergyController>
		<!--Set of cost terms used for this optimization. For a full list of cost terms, see documentation at nmsm.rice.edu.-->
		<RCNLCostTermSet>
			<RCNLCostTerm name="Controller Tracking">
				<!--Indicate whether the term is enabled or not. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Type of cost term.-->
				<type>controller_tracking</type>
				<!--Space separated list containing RCNL controllers to be included in this cost term.-->
				<controller_list>RightLeg_1 RightLeg_2 RightLeg_3 RightLeg_4</controller_list>
				<!--The accuracy to compare against, depends on model/data units (0.01 == 1cm for data in units meters).-->
				<max_allowable_error>1</max_allowable_error>
			</RCNLCostTerm>
		</RCNLCostTermSet>
		<!--Set of constraint terms applied to this optimization. For a full list of constraint terms, see documentation at nmsm.rice.edu.-->
		<RCNLConstraintTermSet>
			<RCNLConstraintTerm name="Kinetic consistency">
				<!--Type of constraint term.-->
				<type>kinetic_consistency</type>
				<!--Space separated list containing model loads to be included in this cost term.-->
				<load_list>hip_flexion_r_moment knee_angle_r_moment ankle_angle_r_moment</load_list>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>0.10000000000000001</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>-0.10000000000000001</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Initial coordinate position deviation">
				<!--Type of constraint term.-->
				<type>initial_generalized_coordinate_deviation</type>
				<!--Space separated list containing model coordinates to be included in this cost term.-->
				<coordinate_list>hip_flexion_r knee_angle_r ankle_angle_r</coordinate_list>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>0.017500000000000002</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>-0.017500000000000002</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Initial coordinate speed deviation">
				<!--Type of constraint term.-->
				<type>initial_generalized_speed_deviation</type>
				<!--Space separated list containing model coordinates to be included in this cost term.-->
				<coordinate_list>hip_flexion_r knee_angle_r ankle_angle_r</coordinate_list>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>0.17499999999999999</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>-0.17499999999999999</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Final toe marker position deviation">
				<type>final_marker_position_deviation</type>
				<marker>R_Toe</marker>
				<is_enabled>true</is_enabled>
				<axes>x y</axes>
				<max_error>0.001</max_error>
				<min_error>-0.001</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Final calcaneus orientation deviation">
				<type>final_body_orientation_deviation</type>
				<body>calcn_r</body>
				<is_enabled>true</is_enabled>
				<axes>z</axes>
				<sequence>zyx</sequence>
				<max_error>0.0175</max_error>
				<min_error>-0.0175</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Toe marker final velocity">
				<!--Type of constraint term.-->
				<type>final_marker_velocity_value</type>
				<!--Space separated list containing markers to be included in this cost term.-->
				<marker_list>R_Toe</marker_list>
				<!--Space separated list containing axes (x y z) of the cost term.-->
				<axes>x</axes>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>14.4</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>14.3</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Limit ankle position bounds">
				<!--Type of constraint term.-->
				<type>generalized_coordinate_value</type>
				<!--Space separated list containing model coordinates to be included in this cost term.-->
				<coordinate_list>ankle_angle_r</coordinate_list>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>0.047500000000000001</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>-0.31869999999999998</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Limit ankle velocity path">
				<!--Type of constraint term.-->
				<type>generalized_speed_deviation</type>
				<!--Space separated list containing model coordinates to be included in this cost term.-->
				<coordinate_list>ankle_angle_r</coordinate_list>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>0.17499999999999999</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>-0.17499999999999999</min_error>
			</RCNLConstraintTerm>
			<RCNLConstraintTerm name="Final ankle speed deviation">
				<!--Type of constraint term.-->
				<type>final_generalized_speed_deviation</type>
				<!--Space separated list containing model coordinates to be included in this cost term.-->
				<coordinate_list>ankle_angle_r</coordinate_list>
				<!--Flag (true, false) indicating whether this contraint term is enabled. Default is false.-->
				<is_enabled>true</is_enabled>
				<!--Maximum error allowed by this constraint term.-->
				<max_error>0.17499999999999999</max_error>
				<!--Minimum error allowed by this constraint term.-->
				<min_error>-0.17499999999999999</min_error>
			</RCNLConstraintTerm>
		</RCNLConstraintTermSet>
	</DesignOptimizationTool>
</NMSMPipelineDocument>