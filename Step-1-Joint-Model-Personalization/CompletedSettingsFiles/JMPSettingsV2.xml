<NMSMPipelineDocument Version="1.4.0">
	<JointModelPersonalizationTool name="default">
		<!--Directory for input files.-->
		<input_directory>.</input_directory>
		<!--Name of file containing input model, if using the application this has no effect as current model is used.-->
		<input_model_file>UF_Subject_3_scaled_JMPV1.osim</input_model_file>
		<!--Name of file containing output model after tool executaion.-->
		<output_model_file>UF_Subject_3_scaled_JMPV2.osim</output_model_file>
		<!--The accuracy to compare against, depends on model/data units (0.01 == 1cm for data in units meters).-->
		<allowable_error>0.01</allowable_error>
		<!--List of tasks to be completed by the tool, each Task is a separate optimization.-->
		<JMPTaskList>
			<JMPTask name="Right Femur Markers">
				<!--Indicate whether the task is enabled or not.-->
				<is_enabled>true</is_enabled>
				<!--Name of marker file with required data for this JointPersonalizationTask.-->
				<marker_file_name>GaitTrial_markers_jmp.trc</marker_file_name>
				<!--Order of the tasks to be completed-->
				<index>1</index>
				<!--Time range from marker file to be used to optimize joint personalization.-->
				<time_range>0 1.0700000000000001</time_range>
				<!--Bodies that will be optimized in this task.-->
				<JMPBodySet>
					<JMPBody name="femur_r">
						<!--Boolean value for whether the body, with task name, is to be scaled.-->
						<scale_body>false</scale_body>
						<!--Three boolean values (separated by spaces) for which axes the markers should be free to move in (x, y, z) order.-->
						<move_markers>false true true</move_markers>
					</JMPBody>
				</JMPBodySet>
			</JMPTask>
			<JMPTask name="Left Femur Markers">
				<!--Indicate whether the task is enabled or not.-->
				<is_enabled>true</is_enabled>
				<!--Name of marker file with required data for this JointPersonalizationTask.-->
				<marker_file_name>GaitTrial_markers_jmp.trc</marker_file_name>
				<!--Order of the tasks to be completed-->
				<index>2</index>
				<!--Time range from marker file to be used to optimize joint personalization.-->
				<time_range>0 1.0700000000000001</time_range>
				<!--Bodies that will be optimized in this task.-->
				<JMPBodySet>
					<JMPBody name="femur_l">
						<!--Boolean value for whether the body, with task name, is to be scaled.-->
						<scale_body>false</scale_body>
						<!--Three boolean values (separated by spaces) for which axes the markers should be free to move in (x, y, z) order.-->
						<move_markers>false true true</move_markers>
					</JMPBody>
				</JMPBodySet>
			</JMPTask>
		</JMPTaskList>
		<!--*Optional* The accuracy of the IKSolver solution in absolute terms. Default is 1e-5. It determines the number of significant digits to which the solution can be trusted.-->
		<accuracy>9.9999999999999995e-07</accuracy>
		<!--*Optional* The minimum step of the least squares algorithm. Default is 1e-4  which means the solution will be optimized to 0.1 mm resolution. -->
		<diff_min_change>0.001</diff_min_change>
		<!--*Optional* The optimality tolerance determines when the lsqnonlin algorithm stops. The larger it is, the earlier the algorithm stops, but with lower accuracy.-->
		<optimality_tolerance>1.0000000000000001e-05</optimality_tolerance>
		<!--*Optional* The function tolerance determines when the lsqnonlin algorithm stops. The larger it is, the earlier the algorithm stops, but with lower accuracy.-->
		<function_tolerance>1.0000000000000001e-05</function_tolerance>
		<!--*Optional* The step tolerance determines when the lsqnonlin algorithm stops. The larger it is, the earlier the algorithm stops, but with lower accuracy.-->
		<step_tolerance>1.0000000000000001e-05</step_tolerance>
		<!--*Optional* The number of allowed iterations for the lsqnonlin, setting this lower can help cancel an optimization that won't converge.-->
		<max_function_evaluations>100</max_function_evaluations>
	</JointModelPersonalizationTool>
</NMSMPipelineDocument>